# Test configuration with multiple ports
# Tests Step 2.1 with multiple listening sockets

# First server - main website on port 8080
server {
    listen 0.0.0.0:8080;
    server_name localhost;

    client_max_body_size 10M;

    location / {
        root www;
        index index.html;
        allowed_methods GET;
    }
}

# Second server - API on port 8081
server {
    listen 0.0.0.0:8081;
    server_name api.localhost;

    client_max_body_size 1M;

    location / {
        root www/api;
        index index.json;
        allowed_methods GET POST DELETE;
    }
}

# Third server - admin panel on port 8082
server {
    listen 127.0.0.1:8082;  # Only accessible locally
    server_name admin.localhost;

    client_max_body_size 5M;

    location / {
        root www/admin;
        index index.html;
        allowed_methods GET POST;
    }
}
